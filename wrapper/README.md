# Go实现jar转exe-打包器模板代码

该目录为Go实现`jar`转`exe`的打包模板代码，通过修改配置文件之后，即可实现把你的`jar`文件和该Go源代码一起进行编译得到一个单独的`exe`文件。

## 1，安装Go开发环境

要想编译这个源代码，安装Go开发环境是必须的，在[官网](https://go.dev/)下载Go安装包进行安装即可，安装完成后，确保`go`命令可以正常使用。

## 2，修改配置文件

当前目录下的`config.yml`即为配置文件，其中有着非常详细的注释，可以根据其中注释提示进行修改，不过简单情况下，保持默认即可。

## 3，将要转换的`jar`文件放进来

把你要转换成`exe`的`jar`文件重命名为`main.exe`，然后放到当前目录下即可。

## 4，执行编译

通过cmd或者其它命令行终端使用`cd`命令进入到当前目录下，使用`go build`命令即可进行编译。

如果你的`jar`程序是一个**命令行程序**，那么通过下列命令编译：

```bash
go build -ldflags "-w -s" -o "输出exe位置"
```

如果你的`jar`程序是一个**GUI窗体程序**，那么通过下列命令编译：

```bash
go build -ldflags "-H=windowsgui -w -s" -o "输出exe位置"
```

编译完成，就得到了一个可以直接运行的`exe`文件了！你的`jar`文件就已经包含在这个`exe`里面了！

## 5，自定义`exe`文件图标

如果需要自定义图标，请参考该文章：[传送门](https://juejin.cn/post/7281118263966351372)

需要在编译步骤之前完成图标资源编译。

## 6，最后

该程序的原理其实很简单，主要是利用了Go的`embed`嵌入资源文件功能，详情可以参考：[传送门](https://juejin.cn/post/7288963080855568421)

如果觉得编译得到的产物太大了，可以使用UPX工具进行压缩，可以参考这篇文章的第3部分：[传送门](https://juejin.cn/post/6989149609478553630#heading-2)